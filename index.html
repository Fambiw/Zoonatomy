<!DOCTYPE html>
<html lang="id">
<!--
‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë                            ZOONATOMY V2                                  ‚ïë
‚ïë                    Aplikasi Edukatif Anatomi Hewan                       ‚ïë
‚ïë                                                                           ‚ïë
‚ïë  üìù CARA MENGGUNAKAN DI VS CODE:                                         ‚ïë
‚ïë  1. Buka file ini di VS Code                                             ‚ïë
‚ïë  2. Install extension "Live Server" (ritwickdey.liveserver)              ‚ïë
‚ïë  3. Klik kanan pada file ‚Üí "Open with Live Server"                      ‚ïë
‚ïë  4. Atau tekan Alt+L Alt+O                                               ‚ïë
‚ïë  5. Browser akan terbuka otomatis                                        ‚ïë
‚ïë                                                                           ‚ïë
‚ïë  üêõ DEBUGGING:                                                           ‚ïë
‚ïë  - Buka Console (F12 atau Ctrl+Shift+I)                                 ‚ïë
‚ïë  - Semua aktivitas akan terlog dengan emoji                             ‚ïë
‚ïë  - üöÄ = App starting                                                     ‚ïë
‚ïë  - üìÇ = Category selected                                                ‚ïë
‚ïë  - ü¶Å = Animal selected                                                  ‚ïë
‚ïë  - üëÜ = Body part clicked                                                ‚ïë
‚ïë  - üîä = Text-to-speech                                                   ‚ïë
‚ïë  - ‚úÖ = Success                                                          ‚ïë
‚ïë  - ‚ùå = Error                                                            ‚ïë
‚ïë                                                                           ‚ïë
‚ïë  üìç EDIT ASSETS:                                                         ‚ïë
‚ïë  - Cari "ASSET CONFIGURATION" (sekitar baris 485)                       ‚ïë
‚ïë  - Edit gambar di property 'image'                                      ‚ïë
‚ïë  - Edit posisi di property 'position'                                   ‚ïë
‚ïë  - Lihat PANDUAN_EDIT_ZOONATOMY.md untuk detail                         ‚ïë
‚ïë                                                                           ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
-->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#FF6B9D">
    <title>Zoonatomy - Belajar Anatomi Hewan</title>
    
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;800&family=Bubblegum+Sans&family=Fredoka:wght@400;600;700&display=swap" rel="stylesheet">
    
    <link rel="manifest" href="#" id="manifestLink">
    
    <style>
        :root {
            --primary-pink: #FF6B9D;
            --primary-purple: #9B59B6;
            --primary-blue: #3498DB;
            --primary-green: #2ECC71;
            --primary-orange: #F39C12;
            --primary-yellow: #F1C40F;
            --bg-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Poppins', sans-serif;
            background: var(--bg-gradient);
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        /* Splash Screen */
        .splash-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background: linear-gradient(135deg, #FF6B9D 0%, #9B59B6 50%, #3498DB 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            animation: splashFade 0.5s ease-in-out 2.5s forwards;
        }
        
        @keyframes splashFade {
            to {
                opacity: 0;
                visibility: hidden;
            }
        }
        
        .splash-mascot {
            font-size: 150px;
            animation: bounce 1s infinite;
            filter: drop-shadow(0 10px 20px rgba(0,0,0,0.3));
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-30px); }
        }
        
        .splash-title {
            color: white;
            font-size: 56px;
            font-weight: 800;
            margin-top: 30px;
            text-shadow: 4px 4px 8px rgba(0,0,0,0.4);
            font-family: 'Bubblegum Sans', cursive;
            letter-spacing: 2px;
        }
        
        .splash-subtitle {
            color: white;
            font-size: 22px;
            margin-top: 15px;
            opacity: 0.95;
            font-weight: 600;
        }
        
        .loading-dots {
            display: flex;
            gap: 12px;
            margin-top: 40px;
        }
        
        .dot {
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: white;
            animation: dotPulse 1.4s infinite ease-in-out both;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        }
        
        .dot:nth-child(1) { animation-delay: -0.32s; }
        .dot:nth-child(2) { animation-delay: -0.16s; }
        
        @keyframes dotPulse {
            0%, 80%, 100% { transform: scale(0.4); opacity: 0.5; }
            40% { transform: scale(1.2); opacity: 1; }
        }
        
        /* Main Container */
        .main-container {
            display: none;
            animation: fadeIn 0.6s ease-in-out;
            padding-bottom: 40px;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Header */
        .app-header {
            background: linear-gradient(135deg, #FF6B9D 0%, #9B59B6 100%);
            padding: 30px 20px;
            text-align: center;
            box-shadow: 0 8px 30px rgba(0,0,0,0.3);
            position: relative;
            overflow: hidden;
        }
        
        .header-ornament {
            position: absolute;
            font-size: 80px;
            opacity: 0.15;
            animation: float 4s infinite ease-in-out;
        }
        
        .ornament-1 { top: 20px; left: 30px; animation-delay: 0s; }
        .ornament-2 { top: 20px; right: 30px; animation-delay: 0.7s; }
        .ornament-3 { bottom: 20px; left: 45%; animation-delay: 1.4s; }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-15px) rotate(5deg); }
        }
        
        .app-logo {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            position: relative;
            z-index: 1;
        }
        
        .app-mascot {
            font-size: 80px;
            animation: wiggle 2.5s infinite;
            filter: drop-shadow(0 8px 15px rgba(0,0,0,0.3));
        }
        
        @keyframes wiggle {
            0%, 100% { transform: rotate(-8deg); }
            50% { transform: rotate(8deg); }
        }
        
        .app-title {
            color: white;
            font-size: 52px;
            font-weight: 800;
            text-shadow: 4px 4px 10px rgba(0,0,0,0.4);
            margin: 0;
            font-family: 'Bubblegum Sans', cursive;
            letter-spacing: 3px;
        }
        
        .app-subtitle {
            color: white;
            font-size: 18px;
            margin-top: 8px;
            opacity: 0.95;
            font-weight: 600;
        }
        
        /* Category Menu */
        .category-menu {
            background: white;
            padding: 35px;
            margin: 30px 20px;
            border-radius: 25px;
            box-shadow: 0 15px 40px rgba(0,0,0,0.2);
        }
        
        .category-title {
            text-align: center;
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-size: 32px;
            font-weight: 800;
            margin-bottom: 30px;
            font-family: 'Bubblegum Sans', cursive;
        }
        
        .category-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 20px;
        }
        
        .category-btn {
            padding: 28px 20px;
            border: none;
            border-radius: 20px;
            font-size: 19px;
            font-weight: 700;
            color: white;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 8px 20px rgba(0,0,0,0.25);
            position: relative;
            overflow: hidden;
        }
        
        .category-btn:before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255,255,255,0.4);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }
        
        .category-btn:hover:before {
            width: 400px;
            height: 400px;
        }
        
        .category-btn:hover {
            transform: translateY(-8px) scale(1.05);
            box-shadow: 0 15px 35px rgba(0,0,0,0.35);
        }
        
        .category-btn:active {
            transform: translateY(-4px) scale(1.02);
        }
        
        .category-btn i {
            display: block;
            font-size: 40px;
            margin-bottom: 12px;
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.2));
        }
        
        .herbivore { background: linear-gradient(135deg, #11998e, #38ef7d); }
        .carnivore { background: linear-gradient(135deg, #eb3349, #f45c43); }
        .omnivore { background: linear-gradient(135deg, #FA8BFF, #2BD2FF, #2BFF88); }
        .all-animals { background: linear-gradient(135deg, #4facfe, #00f2fe); }
        
        /* Animal Selection */
        .animal-selection {
            display: none;
            background: white;
            padding: 35px;
            margin: 30px 20px;
            border-radius: 25px;
            box-shadow: 0 15px 40px rgba(0,0,0,0.2);
        }
        
        .back-btn {
            background: linear-gradient(135deg, #bdc3c7, #95a5a6);
            color: white;
            border: none;
            padding: 14px 28px;
            border-radius: 15px;
            font-size: 17px;
            font-weight: 700;
            cursor: pointer;
            margin-bottom: 25px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }
        
        .back-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.3);
        }
        
        .back-btn i {
            margin-right: 8px;
        }
        
        .animal-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
            gap: 25px;
            margin-top: 25px;
        }
        
        .animal-card {
            background: white;
            border-radius: 20px;
            padding: 25px;
            text-align: center;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
            border: 3px solid transparent;
        }
        
        .animal-card:hover {
            transform: translateY(-12px) scale(1.08);
            box-shadow: 0 15px 40px rgba(0,0,0,0.3);
            border-color: var(--card-color);
        }
        
        .animal-icon {
            font-size: 75px;
            margin-bottom: 15px;
            filter: drop-shadow(0 4px 8px rgba(0,0,0,0.2));
            transition: transform 0.3s ease;
        }
        
        .animal-card:hover .animal-icon {
            transform: scale(1.15) rotate(5deg);
        }
        
        .animal-name {
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 8px;
        }
        
        .animal-category-badge {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            color: white;
            margin-top: 5px;
        }
        
        /* Anatomy Viewer */
        .anatomy-viewer {
            display: none;
            background: white;
            padding: 35px;
            margin: 30px 20px;
            border-radius: 25px;
            box-shadow: 0 15px 40px rgba(0,0,0,0.2);
        }
        
        .anatomy-header {
            text-align: center;
            margin-bottom: 35px;
        }
        
        .current-animal {
            font-size: 38px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: 800;
            font-family: 'Bubblegum Sans', cursive;
        }
        
        .anatomy-instruction {
            color: #7f8c8d;
            font-size: 17px;
            margin-top: 10px;
            font-weight: 600;
        }
        
        .anatomy-container {
            position: relative;
            max-width: 700px;
            margin: 0 auto;
            background: linear-gradient(135deg, #e0f7fa 0%, #b2ebf2 100%);
            border-radius: 25px;
            padding: 50px;
            box-shadow: inset 0 8px 20px rgba(0,0,0,0.15);
            min-height: 500px;
        }
        
        .animal-illustration {
            position: relative;
            width: 100%;
            height: 450px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .animal-svg-image {
            max-width: 100%;
            max-height: 100%;
            filter: drop-shadow(0 10px 25px rgba(0,0,0,0.2));
        }
        
        .body-part {
            position: absolute;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            z-index: 5;
        }
        
        .body-part:hover {
            transform: scale(1.15);
            z-index: 10;
        }
        
        .body-part.active {
            animation: zoomPulse 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            z-index: 15;
        }
        
        @keyframes zoomPulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.5); }
            100% { transform: scale(1.2); }
        }
        
        .part-marker {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #FF6B9D, #C44569);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 26px;
            box-shadow: 0 6px 20px rgba(255, 107, 157, 0.5);
            border: 4px solid white;
            position: relative;
        }
        
        .part-marker:after {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: rgba(255, 107, 157, 0.4);
            animation: pulse-ring 1.5s infinite;
        }
        
        @keyframes pulse-ring {
            0% {
                transform: scale(1);
                opacity: 1;
            }
            100% {
                transform: scale(1.8);
                opacity: 0;
            }
        }
        
        .part-label {
            position: absolute;
            bottom: -35px;
            left: 50%;
            transform: translateX(-50%);
            background: white;
            color: var(--primary-purple);
            padding: 8px 16px;
            border-radius: 12px;
            font-size: 15px;
            font-weight: 700;
            box-shadow: 0 4px 15px rgba(0,0,0,0.25);
            white-space: nowrap;
            border: 2px solid var(--primary-pink);
        }
        
        .body-part.active .part-marker {
            animation: markerBounce 0.6s ease;
        }
        
        @keyframes markerBounce {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.3); }
        }
        
        /* Info Panel */
        .info-panel {
            margin-top: 35px;
            background: linear-gradient(135deg, #FFF5F8, #FFE5EE);
            padding: 30px;
            border-radius: 20px;
            text-align: center;
            min-height: 120px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            box-shadow: 0 8px 20px rgba(0,0,0,0.12);
            border: 3px solid rgba(255, 107, 157, 0.3);
        }
        
        .info-text {
            font-size: 26px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: 700;
        }
        
        .sound-icon {
            font-size: 40px;
            margin-bottom: 10px;
            animation: soundWave 1s infinite;
        }
        
        @keyframes soundWave {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .app-title {
                font-size: 38px;
            }
            
            .app-mascot {
                font-size: 65px;
            }
            
            .splash-title {
                font-size: 42px;
            }
            
            .category-buttons {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .animal-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .anatomy-container {
                padding: 30px 20px;
            }
            
            .part-marker {
                width: 45px;
                height: 45px;
                font-size: 22px;
            }
        }
        
        @media (max-width: 480px) {
            .app-title {
                font-size: 28px;
            }
            
            .category-btn {
                padding: 20px 15px;
                font-size: 16px;
            }
            
            .category-btn i {
                font-size: 32px;
            }
            
            .anatomy-container {
                padding: 25px 15px;
            }
        }
        
        /* Installation Prompt */
        .install-prompt {
            position: fixed;
            bottom: 25px;
            left: 50%;
            transform: translateX(-50%);
            background: white;
            padding: 18px 30px;
            border-radius: 20px;
            box-shadow: 0 10px 35px rgba(0,0,0,0.4);
            display: none;
            z-index: 1000;
            animation: slideUp 0.6s ease;
            border: 3px solid var(--primary-pink);
        }
        
        @keyframes slideUp {
            from {
                bottom: -120px;
                opacity: 0;
            }
            to {
                bottom: 25px;
                opacity: 1;
            }
        }
        
        .install-btn {
            background: linear-gradient(135deg, #FF6B9D, #9B59B6);
            color: white;
            border: none;
            padding: 14px 30px;
            border-radius: 12px;
            font-size: 17px;
            font-weight: 700;
            cursor: pointer;
            margin-left: 12px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(155, 89, 182, 0.4);
        }
        
        .install-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 18px rgba(155, 89, 182, 0.6);
        }
    </style>
</head>
<body>
    
    <!-- Splash Screen -->
    <div class="splash-screen" id="splashScreen">
        <div class="splash-mascot">ü¶Å</div>
        <h1 class="splash-title">Zoonatomy</h1>
        <p class="splash-subtitle">Belajar Anatomi Hewan dengan Seru!</p>
        <div class="loading-dots">
            <div class="dot"></div>
            <div class="dot"></div>
            <div class="dot"></div>
        </div>
    </div>
    
    <!-- Main Container -->
    <div class="main-container" id="mainContainer">
        
        <!-- Header -->
        <header class="app-header">
            <div class="header-ornament ornament-1">üåü</div>
            <div class="header-ornament ornament-2">üé®</div>
            <div class="header-ornament ornament-3">üêæ</div>
            
            <div class="app-logo">
                <div class="app-mascot">ü¶Å</div>
                <div>
                    <h1 class="app-title">Hii.. Farhan Sanastra (076)</h1>
                    <p class="app-subtitle">Yukk Jelajahi Dunia Anatomi Hewan</p>
                </div>
            </div>
        </header>
        
        <!-- Category Menu -->
        <div class="category-menu" id="categoryMenu">
            <h2 class="category-title">üåà Pilih Kategori Hewan üåà</h2>
            <div class="category-buttons">
                <button class="category-btn herbivore" onclick="selectCategory('herbivore')">
                    <i class="fas fa-leaf"></i>
                    Herbivora<br>(Pemakan Tumbuhan)
                </button>
                <button class="category-btn carnivore" onclick="selectCategory('carnivore')">
                    <i class="fas fa-drumstick-bite"></i>
                    Karnivora<br>(Pemakan Daging)
                </button>
                <button class="category-btn omnivore" onclick="selectCategory('omnivore')">
                    <i class="fas fa-utensils"></i>
                    Omnivora<br>(Pemakan Segala)
                </button>
                <button class="category-btn all-animals" onclick="selectCategory('all')">
                    <i class="fas fa-paw"></i>
                    Semua Hewan
                </button>
            </div>
        </div>
        
        <!-- Animal Selection -->
        <div class="animal-selection" id="animalSelection">
            <button class="back-btn" onclick="backToCategory()">
                <i class="fas fa-arrow-left"></i> Kembali
            </button>
            <h2 class="category-title" id="selectionTitle">Pilih Hewan</h2>
            <div class="animal-grid" id="animalGrid"></div>
        </div>
        
        <!-- Anatomy Viewer -->
        <div class="anatomy-viewer" id="anatomyViewer">
            <button class="back-btn" onclick="backToAnimals()">
                <i class="fas fa-arrow-left"></i> Kembali
            </button>
            <div class="anatomy-header">
                <h2 class="current-animal" id="currentAnimal">üêò Elephant</h2>
                <p class="anatomy-instruction">Klik bagian tubuh untuk belajar!</p>
            </div>
            <div class="anatomy-container">
                <div class="animal-illustration" id="animalIllustration">
                    <!-- Animal SVG and body parts will be inserted here -->
                </div>
            </div>
            <div class="info-panel" id="infoPanel">
                <div class="sound-icon">üîä</div>
                <p class="info-text" id="infoPanelText">Pilih bagian tubuh untuk mendengar namanya! üéµ</p>
            </div>
        </div>
        
    </div>
    
    <!-- Install Prompt -->
    <div class="install-prompt" id="installPrompt">
        <span style="font-weight: 600;">üì± Install Zoonatomy untuk pengalaman lebih baik!</span>
        <button class="install-btn" id="installBtn">Install</button>
    </div>
    
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        // ===================================
        // üêõ DEBUG MODE - VS CODE READY
        // ===================================
        console.log('üöÄ Zoonatomy App Starting...');
        console.log('üìÖ Date:', new Date().toLocaleString());
        
        // ===================================
        // üé® ASSET CONFIGURATION
        // ===================================
        // Anda bisa dengan mudah mengubah gambar dan posisi di sini
        
        const ANIMAL_ASSETS = {
            'Elephant': {
                name: 'Elephant',
                namaBahasa: 'Gajah',
                icon: 'üêò',
                category: 'herbivore',
                color: '#3498db',
                // Ganti dengan URL gambar hewan Anda
                // Contoh: image: 'https://example.com/elephant.svg'
                // Atau gunakan base64, atau biarkan kosong untuk SVG default
                image: 'assets/elephant.jpg', 
                bodyParts: [
                    {
                        part: 'tusks',
                        name: 'Tusks',
                        namaBahasa: 'Gading',
                        icon: 'üêò',
                        // Posisi dalam persen (top, left)
                        position: { top: '60%', left: '28%' }
                    },
                    {
                        part: 'ear',
                        name: 'Ear',
                        namaBahasa: 'Telinga',
                        position: { top: '45%', left: '18%' }
                    },
                    {
                        part: 'eye',
                        name: 'Eye',
                        namaBahasa: 'Mata',
                        position: { top: '21%', left: '35%' }
                    },
                    {
                        part: 'leg',
                        name: 'Leg',
                        namaBahasa: 'Kaki',
                        position: { top: '75%', left: '31%' }
                    },
                    {
                        part: 'tail',
                        name: 'Tail',
                        namaBahasa: 'Ekor',
                        position: { top: '70%', left: '83%' }
                    },
                    {
                        part: 'body',
                        name: 'Body',
                        namaBahasa: 'Badan',
                        position: { top: '55%', left: '79%' }
                    },
                    {
                        part: 'trunk',
                        name: 'Trunk',
                        namaBahasa: 'Belalai',
                        position: { top: '45%', left: '73%' }
                    },
                    {
                        part: 'head',
                        name: 'Head',
                        namaBahasa: 'Kepala',
                        position: { top: '22%', left: '62%' }
                    }
                ]
            },
            'Rabbit': {
                name: 'Rabbit',
                namaBahasa: 'Kelinci',
                icon: 'üê∞',
                category: 'herbivore',
                color: '#e91e63',
                image: 'assets/rabbit.jpeg',
                bodyParts: [
                    {
                        part: 'ear',
                        name: 'Ear',
                        namaBahasa: 'Telinga',
                        icon: 'üëÇ',
                        position: { top: '26%', left: '75%' }
                    },
                    {
                        part: 'nose',
                        name: 'Nose',
                        namaBahasa: 'Hidung',
                        icon: 'üëÉ',
                        position: { top: '59%', left: '32%' }
                    },
                    {
                        part: 'eye',
                        name: 'Eye',
                        namaBahasa: 'Mata',
                        icon: 'üëÅÔ∏è',
                        position: { top: '50%', left: '30%' }
                    },
                    {
                        part: 'leg',
                        name: 'Leg',
                        namaBahasa: 'Kaki',
                        icon: 'ü¶µ',
                        position: { top: '88%', left: '55%' }
                    },
                    {
                        part: 'tail',
                        name: 'Tail',
                        namaBahasa: 'Ekor',
                        icon: '‚ö™',
                        position: { top: '68%', left: '75%' }
                    },
                    {
                        part: 'foot',
                        name: 'Foot',
                        namaBahasa: 'Kaki',
                        icon: 'ü¶µ',
                        position: { top: '89%', left: '70%' }
                    },
                    {
                        part: 'head',
                        name: 'Head',
                        namaBahasa: 'Kepala',
                        icon: 'ü¶µ',
                        position: { top: '24%', left: '49%' }
                    },
                    {
                        part: 'chest',
                        name: 'Chest',
                        namaBahasa: 'Dada',
                        icon: 'ËÉ∏Âè£',
                        position: { top: '76%', left: '33%' }
                    },
                    {
                        part: 'mouth',
                        name: 'Mouth',
                        namaBahasa: 'Mulut',
                        icon: 'üëÑ',
                        position: { top: '67%', left: '33%' }
                    }
                ]
            },
            'Lion': {
                name: 'Lion',
                namaBahasa: 'Singa',
                icon: 'ü¶Å',
                category: 'carnivore',
                color: '#f39c12',
                image: 'assets/lion.jpeg',
                bodyParts: [
                    {
                        part: 'ear',
                        name: 'Ear',
                        namaBahasa: 'Telinga',
                        icon: 'üëÇ',
                        position: { top: '20%', left: '55%' }
                    },
                    {
                        part: 'eye',
                        name: 'Eye',
                        namaBahasa: 'Mata',
                        icon: 'üëÅÔ∏è',
                        position: { top: '50%', left: '20%' }
                    },
                    {
                        part: 'nose',
                        name: 'Nose',
                        namaBahasa: 'Hidung',
                        icon: 'üëÉ',
                        position: { top: '58%', left: '21%' }
                    },
                    {
                        part: 'mouth',
                        name: 'Mouth',
                        namaBahasa: 'Mulut',
                        icon: 'ÔøΩ',
                        position: { top: '66%', left: '22%' }
                    },
                    {
                        part: 'paw',
                        name: 'Paw',
                        namaBahasa: 'Cakar',
                        icon: 'üêæ',
                        position: { top: '80%', left: '23%' }
                    },
                    {
                        part: 'tail',
                        name: 'Tail',
                        namaBahasa: 'Ekor',
                        icon: '„Ä∞Ô∏è',
                        position: { top: '62%', left: '81%' }
                    },
                    {
                        part: 'whiskers',
                        name: 'Whiskers',
                        namaBahasa: 'Kumis',
                        icon: 'ü¶®',
                        position: { top: '40%', left: '63%' }
                    },
                    {
                        part: 'leg',
                        name: 'Leg',
                        namaBahasa: 'Kaki',
                        icon: 'ü¶µ',
                        position: { top: '85%', left: '62%' }
                    },
                    {
                        part: 'fur',
                        name: 'Fur',
                        namaBahasa: 'Bulu',
                        icon: 'ü¶ù',
                        position: { top: '52%', left: '73%' }
                    }
                ]
            },
            'Tiger': {
                name: 'Tiger',
                namaBahasa: 'Harimau',
                icon: 'üêØ',
                category: 'carnivore',
                color: '#e67e22',
                image: 'assets/tiger.jpeg',
                bodyParts: [
                    {
                        part: 'ear',
                        name: 'Ear',
                        namaBahasa: 'Telinga',
                        icon: 'üëÇ',
                        position: { top: '20%', left: '56%' }
                    },
                    {
                        part: 'eye',
                        name: 'Eye',
                        namaBahasa: 'Mata',
                        icon: 'üëÅÔ∏è',
                        position: { top: '46%', left: '20%' }
                    },
                    {
                        part: 'nose',
                        name: 'Nose',
                        namaBahasa: 'Hidung',
                        icon: 'üëÉ',
                        position: { top: '54%', left: '20%' }
                    },
                    {
                        part: 'mouth',
                        name: 'Mouth',
                        namaBahasa: 'Mulut',
                        icon: 'ÔøΩ',
                        position: { top: '63%', left: '23%' }
                    },
                    {
                        part: 'paw',
                        name: 'Paw',
                        namaBahasa: 'Cakar',
                        icon: 'ÔøΩ',
                        position: { top: '82%', left: '26%' }
                    },
                    {
                        part: 'whiskers',
                        name: 'Whiskers',
                        namaBahasa: 'Kumis',
                        icon: 'ü¶®',
                        position: { top: '35%', left: '61%' }
                    },
                    {
                        part: 'body',
                        name: 'Body',
                        namaBahasa: 'Tubuh',
                        icon: 'ü¶∫',
                        position: { top: '44%', left: '60%' }
                    },
                    {
                        part: 'leg',
                        name: 'Leg',
                        namaBahasa: 'Kaki',
                        icon: 'ü¶µ',
                        position: { top: '87%', left: '68%' }
                    },
                    {
                        part: 'tail',
                        name: 'Tail',
                        namaBahasa: 'Ekor',
                        icon: '„Ä∞Ô∏è',
                        position: { top: '45%', left: '83%' }
                    }
                ]
            },
            'Pig': {
                name: 'Pig',
                namaBahasa: 'Babi',
                icon: 'üê∑',
                category: 'omnivore',
                color: '#ec407a',
                image: 'assets/pig.jpeg',
                bodyParts: [
                    {
                        part: 'snout',
                        name: 'Snout',
                        namaBahasa: 'Moncong',
                        icon: 'üêΩ',
                        position: { top: '52%', left: '19%' }
                    },
                    {
                        part: 'ear',
                        name: 'Ear',
                        namaBahasa: 'Telinga',
                        icon: 'üëÇ',
                        position: { top: '18%', left: '62%' }
                    },
                    {
                        part: 'body',
                        name: 'body',
                        namaBahasa: 'Tubuh',
                        icon: 'üëÇ',
                        position: { top: '37%', left: '64%' }
                    },
                    {
                        part: 'eye',
                        name: 'Eye',
                        namaBahasa: 'Mata',
                        icon: 'üëÅÔ∏è',
                        position: { top: '39%', left: '17%' }
                    },
                    {
                        part: 'Mouth',
                        name: 'Mouth',
                        namaBahasa: 'Mulut',
                        icon: 'ü¶µ',
                        position: { top: '68%', left: '28%' }
                    },
                    {
                        part: 'leg',
                        name: 'Leg',
                        namaBahasa: 'Kaki',
                        icon: 'ü¶µ',
                        position: { top: '90%', left: '44%' }
                    },
                    {
                        part: 'Hoof',
                        name: 'Hoof',
                        namaBahasa: 'Tapak Kaki',
                        icon: 'ü¶µ',
                        position: { top: '89%', left: '64%' }
                    },
                    {
                        part: 'tail',
                        name: 'Tail',
                        namaBahasa: 'Ekor',
                        icon: 'üåÄ',
                        position: { top: '49%', left: '81%' }
                    }
                ]
            },
            'Chicken': {
                name: 'Chicken',
                namaBahasa: 'Ayam',
                icon: 'üêî',
                category: 'omnivore',
                color: '#ff9800',
                image: 'assets/chicken.jpeg',
                bodyParts: [
                    {
                        part: 'head',
                        name: 'Head',
                        namaBahasa: 'Kepala',
                        icon: 'üêî',
                        position: { top: '24%', left: '26%' }
                    },
                    {
                        part: 'eyes',
                        name: 'eyes',
                        namaBahasa: 'Mata',
                        icon: 'üî∂',
                        position: { top: '29%', left: '58%' }
                    },
                    {
                        part: 'Wattle',
                        name: 'Wattle',
                        namaBahasa: 'Gelambir',
                        icon: 'üî∂',
                        position: { top: '40%', left: '62%' }
                    },
                    {
                        part: 'Comb',
                        name: 'Comb',
                        namaBahasa: 'Jengger Ayam',
                        icon: 'üî∂',
                        position: { top: '20%', left: '66%' }
                    },
                    {
                        part: 'beak',
                        name: 'Beak',
                        namaBahasa: 'Paruh',
                        icon: 'üî∂',
                        position: { top: '33%', left: '60%' }
                    },
                    {
                        part: 'Breast',
                        name: 'Breast',
                        namaBahasa: 'Dada',
                        icon: 'ü™Ω',
                        position: { top: '58%', left: '25%' }
                    },
                    {
                        part: 'leg',
                        name: 'Leg',
                        namaBahasa: 'Kaki',
                        icon: 'ü¶µ',
                        position: { top: '85%', left: '51%' }
                    },
                    {
                        part: 'tail',
                        name: 'Tail',
                        namaBahasa: 'Ekor',
                        icon: 'üåæ',
                        position: { top: '47%', left: '81%' }
                    },
                    {
                        part: 'Wings',
                        name: 'Wings',
                        namaBahasa: 'Sayap',
                        icon: 'üåæ',
                        position: { top: '73%', left: '75%' }
                    }
                ]
            },
            'Cow': {
                name: 'Cow',
                namaBahasa: 'Sapi',
                icon: 'üêÑ',
                category: 'herbivore',
                color: '#4caf50',
                image: 'assets/cow.jpeg',
                bodyParts: [
                    {
                        part: 'horn',
                        name: 'Horn',
                        namaBahasa: 'Tanduk',
                        icon: 'üêÑ',
                        position: { top: '15%', left: '40%' }
                    },
                    {
                        part: 'body',
                        name: 'Body',
                        namaBahasa: 'Tubuh',
                        icon: 'üî∂',
                        position: { top: '33%', left: '60%' }
                    },
                    {
                        part: 'nose',
                        name: 'Nose',
                        namaBahasa: 'Hidung',
                        icon: 'üëÉ',
                        position: { top: '51%', left: '15%' }
                    },
                    {
                        part: 'leg',
                        name: 'Leg',
                        namaBahasa: 'Kaki',
                        icon: 'ü¶µ',
                        position: { top: '77%', left: '35%' }
                    },
                    {
                        part: 'tail',
                        name: 'Tail',
                        namaBahasa: 'Ekor',
                        icon: 'üåæ',
                        position: { top: '50%', left: '88%' }
                    },
                    {
                        part: 'ear',
                        name: 'Ear',
                        namaBahasa: 'Telinga',
                        icon: 'ÔøΩ',
                        position: { top: '27%', left: '50%' }
                    },
                    {
                        part: 'eye',
                        name: 'Eye',
                        namaBahasa: 'Mata',
                        icon: 'ÔøΩÔ∏è',
                        position: { top: '40%', left: '15%' }
                    },
                    {
                        part: 'hoof',
                        name: 'Hoof',
                        namaBahasa: 'Cakar',
                        icon: 'ÔøΩ',
                        position: { top: '88%', left: '70%' }
                    },
                    {
                        part: 'mouth',
                        name: 'Mouth',
                        namaBahasa: 'Mulut',
                        icon: 'üëÑ',
                        position: { top: '62%', left: '23%' }
                    }
                ]
            },
            'Hyena': {
                name: 'Hyena',
                namaBahasa: 'Hiena',
                icon: 'üê∫',
                category: 'carnivore',
                color: '#ff5722',
                image: 'assets/hyena.jpeg',
                bodyParts: [
                    {
                        part: 'head',
                        name: 'Head',
                        namaBahasa: 'Kepala',
                        icon: 'ü¶ù',
                        position: { top: '19%', left: '35%' }
                    },
                    {
                        part: 'ear',
                        name: 'ear',
                        namaBahasa: 'Telinga',
                        icon: 'ü¶ù',
                        position: { top: '28%', left: '51%' }
                    },
                    {
                        part: 'eyes',
                        name: 'eyes',
                        namaBahasa: 'mata',
                        icon: 'üî∂',
                        position: { top: '48%', left: '21%' }
                    },
                    {
                        part: 'mouth',
                        name: 'mouth',
                        namaBahasa: 'mulut',
                        icon: 'üî∂',
                        position: { top: '67%', left: '25%' }
                    },
                    {
                        part: 'nose',
                        name: 'nose',
                        namaBahasa: 'hidung',
                        icon: 'ü™Ω',
                        position: { top: '58%', left: '19%' }
                    },
                    {
                        part: 'leg',
                        name: 'Leg',
                        namaBahasa: 'Kaki',
                        icon: 'ü¶µ',
                        position: { top: '75%', left: '30%' }
                    },
                    {
                        part: 'body',
                        name: 'body',
                        namaBahasa: 'tubuh',
                        icon: 'üåæ',
                        position: { top: '52%', left: '70%' }
                    },
                    {
                        part: 'tail',
                        name: 'Tail',
                        namaBahasa: 'Ekor',
                        icon: 'üåæ',
                        position: { top: '65%', left: '82%' }
                    }
                ]
            },
            'Racoon': {
                name: 'Racoon',
                namaBahasa: 'Rakun',
                icon: 'ü¶ù',
                category: 'omnivore',
                color: '#ff9800',
                image: 'assets/racoon.jpeg',
                bodyParts: [
                    {
                        part: 'head',
                        name: 'Head',
                        namaBahasa: 'Kepala',
                        icon: 'ü¶ù',
                        position: { top: '23%', left: '59%' }
                    },
                     {
                        part: 'Tail',
                        name: 'tail',
                        namaBahasa: 'Ekor',
                        icon: 'ü¶ù',
                        position: { top: '85%', left: '61%' }
                    },
                    {
                        part: 'Ear',
                        name: 'Ear',
                        namaBahasa: 'Telinga',
                        icon: 'ü¶ù',
                        position: { top: '20%', left: '33%' }
                    },
                     {
                        part: 'Nose',
                        name: 'Nose',
                        namaBahasa: 'Hidung',
                        icon: 'ü¶ù',
                        position: { top: '40%', left: '30%' }
                    },
                    {
                        part: 'Eye',
                        name: 'Eye',
                        namaBahasa: 'Mata',
                        icon: 'üî∂',
                        position: { top: '31%', left: '34%' }
                    },
                    {
                        part: 'Body',
                        name: 'Body',
                        namaBahasa: 'Tubuh',
                        icon: 'ü™Ω',
                        position: { top: '59%', left: '26%' }
                    },
                    {
                        part: 'leg',
                        name: 'Leg',
                        namaBahasa: 'Kaki',
                        icon: 'ü¶µ',
                        position: { top: '69%', left: '25%' }
                    },
                    {
                        part: 'Clawed Foot',
                        name: 'Clawed Foot',
                        namaBahasa: 'Cakar Kaki',
                        icon: 'üåæ',
                        position: { top: '61%', left: '74%' }
                    },
                     {
                        part: 'Mouth',
                        name: 'Mouth',
                        namaBahasa: 'Mulut',
                        icon: 'üåæ',
                        position: { top: '46%', left: '64%' }
                    }
                ]
            }
        };
        
        // ===================================
        // üìã ANIMAL CATEGORIES
        // ===================================
        const CATEGORIES = {
            herbivore: {
                name: 'Hewan Herbivora (Pemakan Tumbuhan) üåø',
                animals: ['Elephant', 'Rabbit', 'Cow']
            },
            carnivore: {
                name: 'Hewan Karnivora (Pemakan Daging) üçñ',
                animals: ['Lion', 'Tiger', 'Hyena']
            },
            omnivore: {
                name: 'Hewan Omnivora (Pemakan Segala) üçΩÔ∏è',
                animals: ['Pig', 'Chicken', 'Racoon']
            },
            all: {
                name: 'Semua Hewan üåà',
                animals: Object.keys(ANIMAL_ASSETS)
            }
        };
        
        // ===================================
        // üéØ GLOBAL VARIABLES
        // ===================================
        let currentCategory = '';
        let currentAnimalName = '';
        
        // ===================================
        // üîä TEXT-TO-SPEECH FUNCTION
        // ===================================
        function speakText(text) {
            console.log('üîä Speaking:', text);
            
            try {
                window.speechSynthesis.cancel();
                
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.lang = 'en-US';
                utterance.rate = 0.75;
                utterance.pitch = 1.2;
                utterance.volume = 1;
                
                utterance.onerror = function(event) {
                    console.error('‚ùå Speech synthesis error:', event);
                };
                
                utterance.onend = function() {
                    console.log('‚úÖ Speech synthesis completed');
                };
                
                window.speechSynthesis.speak(utterance);
            } catch (error) {
                console.error('‚ùå Error in speakText:', error);
            }
        }
        
        // ===================================
        // üìÇ SELECT CATEGORY
        // ===================================
        function selectCategory(category) {
            console.log('üìÇ Category selected:', category);
            currentCategory = category;
            document.getElementById('categoryMenu').style.display = 'none';
            document.getElementById('animalSelection').style.display = 'block';
            
            const categoryData = CATEGORIES[category];
            document.getElementById('selectionTitle').innerHTML = categoryData.name;
            
            const animalGrid = document.getElementById('animalGrid');
            animalGrid.innerHTML = '';
            
            const gradients = [
                'linear-gradient(135deg, #667eea, #764ba2)',
                'linear-gradient(135deg, #f093fb, #f5576c)',
                'linear-gradient(135deg, #4facfe, #00f2fe)',
                'linear-gradient(135deg, #43e97b, #38f9d7)',
                'linear-gradient(135deg, #fa709a, #fee140)',
                'linear-gradient(135deg, #30cfd0, #330867)'
            ];
            
            categoryData.animals.forEach((animalKey, index) => {
                const animal = ANIMAL_ASSETS[animalKey];
                const card = document.createElement('div');
                card.className = 'animal-card';
                card.style.setProperty('--card-color', animal.color);
                card.onclick = () => selectAnimal(animalKey);
                
                const categoryBadgeColor = 
                    animal.category === 'herbivore' ? '#2ecc71' :
                    animal.category === 'carnivore' ? '#e74c3c' : '#f39c12';
                
                card.innerHTML = `
                    <div class="animal-icon">${animal.icon}</div>
                    <div class="animal-name" style="color: ${animal.color};">${animal.namaBahasa}</div>
                    <div class="animal-category-badge" style="background: ${categoryBadgeColor};">
                        ${animal.category === 'herbivore' ? 'üåø Herbivora' : 
                          animal.category === 'carnivore' ? 'üçñ Karnivora' : 'üçΩÔ∏è Omnivora'}
                    </div>
                `;
                animalGrid.appendChild(card);
            });
        }
        
        // ===================================
        // ü¶Å SELECT ANIMAL
        // ===================================
        function selectAnimal(animalKey) {
            console.log('ü¶Å Animal selected:', animalKey);
            currentAnimalName = animalKey;
            const animal = ANIMAL_ASSETS[animalKey];
            
            document.getElementById('animalSelection').style.display = 'none';
            document.getElementById('anatomyViewer').style.display = 'block';
            
            document.getElementById('currentAnimal').innerHTML = `${animal.icon} ${animal.name}`;
            
            renderAnimalAnatomy(animalKey);
        }
        
        // ===================================
        // üé® RENDER ANIMAL ANATOMY
        // ===================================
        function renderAnimalAnatomy(animalKey) {
            console.log('üé® Rendering anatomy for:', animalKey);
            
            const animal = ANIMAL_ASSETS[animalKey];
            
            if (!animal) {
                console.error('‚ùå Animal not found:', animalKey);
                return;
            }
            
            console.log('‚úÖ Animal data loaded:', animal);
            
            const container = document.getElementById('animalIllustration');
            container.innerHTML = '';
            
            // Create animal image (SVG placeholder or actual image)
            if (animal.image) {
                const img = document.createElement('img');
                img.src = animal.image;
                img.className = 'animal-svg-image';
                img.alt = animal.name;
                container.appendChild(img);
            } else {
                // Default SVG placeholder with large emoji
                const placeholder = document.createElement('div');
                placeholder.style.cssText = `
                    font-size: 200px;
                    filter: drop-shadow(0 15px 30px rgba(0,0,0,0.25));
                `;
                placeholder.textContent = animal.icon;
                container.appendChild(placeholder);
            }
            
            // Add body part markers
            animal.bodyParts.forEach(part => {
                const bodyPart = document.createElement('div');
                bodyPart.className = 'body-part';
                bodyPart.style.top = part.position.top;
                bodyPart.style.left = part.position.left;
                bodyPart.style.transform = 'translate(-50%, -50%)';
                
                bodyPart.innerHTML = `
                    <div class="part-label">${part.namaBahasa}</div>
                `;
                
                bodyPart.onclick = () => handleBodyPartClick(part, bodyPart);
                
                container.appendChild(bodyPart);
            });
            
            console.log('‚úÖ Rendered', animal.bodyParts.length, 'body parts');
        }
        
        // ===================================
        // üëÜ HANDLE BODY PART CLICK
        // ===================================
        function handleBodyPartClick(part, element) {
            console.log('üëÜ Body part clicked:', part.name, '(' + part.namaBahasa + ')');
            
            // Remove active class from all parts
            document.querySelectorAll('.body-part').forEach(p => p.classList.remove('active'));
            
            // Add active class to clicked part
            element.classList.add('active');
            
            // Speak the part name in English
            speakText(part.name);
            
            // Update info panel
            document.getElementById('infoPanelText').innerHTML = 
                `<strong>${part.name.toUpperCase()}</strong> - ${part.namaBahasa}`;
            
            // Show sound icon animation
            const soundIcon = document.querySelector('.sound-icon');
            soundIcon.style.animation = 'none';
            setTimeout(() => {
                soundIcon.style.animation = 'soundWave 0.5s ease 3';
            }, 10);
            
            // Remove active class after animation
            setTimeout(() => {
                element.classList.remove('active');
            }, 600);
        }
        
        // ===================================
        // ‚¨ÖÔ∏è NAVIGATION FUNCTIONS
        // ===================================
        function backToCategory() {
            document.getElementById('animalSelection').style.display = 'none';
            document.getElementById('categoryMenu').style.display = 'block';
        }
        
        function backToAnimals() {
            document.getElementById('anatomyViewer').style.display = 'none';
            document.getElementById('animalSelection').style.display = 'block';
            document.getElementById('infoPanelText').innerHTML = 
                'Pilih bagian tubuh untuk mendengar namanya! üéµ';
        }
        
        // ===================================
        // üí´ SPLASH SCREEN
        // ===================================
        console.log('üí´ Initializing splash screen...');
        setTimeout(() => {
            console.log('‚úÖ Hiding splash screen, showing main app');
            document.getElementById('splashScreen').style.display = 'none';
            document.getElementById('mainContainer').style.display = 'block';
        }, 3000);
        
        // ===================================
        // üì± PWA INSTALLATION
        // ===================================
        let deferredPrompt;
        
        window.addEventListener('beforeinstallprompt', (e) => {
            console.log('üì± PWA install prompt available');
            e.preventDefault();
            deferredPrompt = e;
            document.getElementById('installPrompt').style.display = 'block';
        });
        
        document.getElementById('installBtn').addEventListener('click', async () => {
            console.log('üì± Install button clicked');
            if (deferredPrompt) {
                deferredPrompt.prompt();
                const { outcome } = await deferredPrompt.userChoice;
                console.log('üì± User choice:', outcome);
                deferredPrompt = null;
                document.getElementById('installPrompt').style.display = 'none';
            }
        });
        
        // ===================================
        // ‚öôÔ∏è SERVICE WORKER
        // ===================================
        if ('serviceWorker' in navigator) {
            console.log('‚öôÔ∏è Service Worker supported');
            window.addEventListener('load', () => {
                navigator.serviceWorker.register(createServiceWorkerBlob())
                    .then(reg => {
                        console.log('‚úÖ Service Worker registered:', reg);
                    })
                    .catch(err => {
                        console.error('‚ùå Service Worker registration failed:', err);
                    });
            });
        } else {
            console.warn('‚ö†Ô∏è Service Worker not supported in this browser');
        }
        
        function createServiceWorkerBlob() {
            const swCode = `
                const CACHE_NAME = 'zoonatomy-v2';
                const urlsToCache = ['/'];
                
                self.addEventListener('install', event => {
                    event.waitUntil(
                        caches.open(CACHE_NAME)
                            .then(cache => cache.addAll(urlsToCache))
                    );
                });
                
                self.addEventListener('fetch', event => {
                    event.respondWith(
                        caches.match(event.request)
                            .then(response => response || fetch(event.request))
                    );
                });
            `;
            const blob = new Blob([swCode], { type: 'application/javascript' });
            return URL.createObjectURL(blob);
        }
        
        // ===================================
        // üìÑ MANIFEST.JSON
        // ===================================
        const manifest = {
            name: "Zoonatomy - Belajar Anatomi Hewan",
            short_name: "Zoonatomy",
            description: "Aplikasi edukatif untuk anak-anak belajar anatomi hewan dengan cara yang menyenangkan",
            start_url: "/",
            display: "standalone",
            background_color: "#FF6B9D",
            theme_color: "#FF6B9D",
            orientation: "portrait",
            icons: [
                {
                    src: "data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='0.9em' font-size='90'>ü¶Å</text></svg>",
                    sizes: "512x512",
                    type: "image/svg+xml"
                }
            ]
        };
        
        const manifestBlob = new Blob([JSON.stringify(manifest)], { type: 'application/json' });
        const manifestURL = URL.createObjectURL(manifestBlob);
        document.getElementById('manifestLink').setAttribute('href', manifestURL);
    </script>
</body>
</html>